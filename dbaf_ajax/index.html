<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/x-icon" href="img/favicon.ico">
        <title>DBAF - HOME</title>
        
        <!-- jQuery library -->
        <script type="text/javascript" src="dx_22.2.4/js/jquery.min.js"></script>
        <!-- DevExtreme theme -->
        <link rel="dx-theme" data-theme="generic.dark" href="dx_22.2.4/css/dx.dark.css" data-active="true">
        <!-- DevExtreme library -->
        <script type="text/javascript" src="dx_22.2.4/js/dx.all.js"></script>
        <!-- Dictionary files for German language -->
        <script type="text/javascript" src="dx_22.2.4/js/localization/dx.messages.de.js"></script>
        <!-- DBAF -->
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <script type="text/javascript" src="js/dbaf.js"></script>
        <script type="text/javascript" src="js/ui.js"></script>
        <script type="text/javascript" src="js/request.js"></script>
    </head>

    <body class="dx-viewport">
        <div class="dbaf-toolbar" id="toolbar"></div>

        <div class="dbaf-group-main">
            <h1>Deutsche Bahn Anwendungs Frontend</h1>

            <div class="dbaf-group">
                <h3>Willkommen!</h3>
                <p>
                    Willkommen im Deutsche Bahn Anwendungs Frontend!<br>
                    Mit Hilfe der V6-DB-Rest-API stellen wir verschiedene Möglichkeiten zur Verfügung, um Daten der Deutschen Bahn auszulesen und übersichtlich darzustellen.
                </p>
            </div>

            <div class="dbaf-group">
                <h3>API-Status</h3>
                <p>
                    Die API ist zurzeit <span id="api-status"></span>.
                </p>
            </div>

            <div class="dbaf-group">
                <h3>Unsere Services</h3>
                <p>
                    Wir stellen folgende Dienste bereit:

                    <!-- DBAF-TODO -->
                    <div class="dbaf-layout-group">
                        <a class="dbaf-layout-item" href="stationdata.html">
                            <div>
                                <h4>Stations-Daten</h4>
                                <p>Anzeige aller verfügbaren Stationen.</p>
                            </div>
                        </a>
                        <a class="dbaf-layout-item" href="timetable.html">
                            <div>
                                <h4>Fahrplanauskunft</h4>
                                <p>Alle Abfahrten und Ankünfte können für eine Station zu einem bestimmten Datum angezeigt werden.</p>
                            </div>
                        </a>
                        <a class="dbaf-layout-item" href="routeplanning.html">
                            <div>
                                <h4>Routenplaner</h4>
                                <p>Zeigt alle Fahrten zwischen zwei Stationen zu einem bestimmten Abfahrtszeitpunkt an.</p>
                            </div>
                        </a>
                        <a class="dbaf-layout-item" href="map.html">
                            <div>
                                <h4>Karte</h4>
                                <p>Zeigt alle Stationen in Deutschland an, wobei nach Bundesland gefiltert werden kann.</p>
                            </div>
                        </a>
                    </div>
                </p>
            </div>
        </div>
    </body>
    
    <!-- NOSCRIPT CHECK -->
    <noscript>
        JavaScript muss aktiviert sein, um diese Website nutzen zu können!
    </noscript>
        
    <script type="text/javascript">
        // Anzeige aktivieren
        $(".dbaf-toolbar").show();
        $(".dbaf-group-main").show();
    </script>
    <!-- NOSCRIPT CHECK -->

    <script type="text/javascript">
        // Verfügbarkeit prüfen
        let bStatus = IsAPIAvailable();

        if (bStatus) {
            // verfügbar ausgeben
            $("#api-status").html("<span class=\"dbaf-green\">verfügbar</span>");
        } else {
            // nicht verfügbar ausgeben
            $("#api-status").html("<span class=\"dbaf-red\">nicht verfügbar</span>");
        }

        ScaleItems();
        // bei Änderung der Client-Größe
        addEventListener("resize", (event) => {
            ScaleItems();
        });

        function ScaleItems() {
            // Höhe eines Layout-Items auf die Breite setzen
            $(".dbaf-layout-item").height($(".dbaf-layout-item").width());
        }
    </script>
    
    <!-- Toolbareinstellungen laden -->
    <script type="text/javascript" src="js/toolbar.js"></script>
</html>